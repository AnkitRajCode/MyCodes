#!/bin/bash

FILE="$1"

CONVERT_TO_MORSE(){
    while read -n1 x;
    do
        if [[ ${x^} == "A" ]];
        then 
        printf ".- a" 
        elif [[ ${x^} == "B" ]];
        then 
        printf "-... b"
        elif [[ ${x^} == "C" ]];
        then 
        printf -- "-.-. c"
        elif [[ ${x^} == "D" ]];
        then 
        printf "-.. d"
        elif [[ ${x^} == "E" ]];
        then 
        printf ". e"
        elif [[ ${x^} == "F" ]];
        then 
         printf "..-. f"
        elif [[ ${x^} == "G" ]];
        then 
         printf "--. g"
        elif [[ ${x^} == "H" ]];
        then 
         printf ".... h"
        elif [[ ${x^} == "I" ]];
        then 
         printf ".. i"
        elif [[ ${x^} == "J" ]];
        then 
         printf ".--- j"
        elif [[ ${x^} == "K" ]];
        then 
         printf -- "-.- k"
        elif [[ ${x^} == "L" ]];
        then 
         printf ".-.. l"
        elif [[ ${x^} == "M" ]];
        then 
         printf -- "-- m"
        elif [[ ${x^} == "N" ]];
        then 
         printf -- "-. n"
        elif [[ ${x^} == "O" ]];
        then 
         printf "--- o"
        elif [[ ${x^} == "P" ]];
        then 
         printf ".--. p"
        elif [[ ${x^} == "Q" ]];
        then 
         printf "--.- q"
        elif [[ ${x^} == "R" ]];
        then 
         printf ".-. r"
        elif [[ ${x^} == "S" ]];
        then 
         printf "... s"
        elif [[ ${x^} == "T" ]];
        then 
         printf -- "- t"
        elif [[ ${x^} == "U" ]];
        then 
         printf "..- u"
        elif [[ ${x^} == "V" ]];
        then 
         printf "...- v"
        elif [[ ${x^} == "W" ]];
        then 
         printf ".-- w"
        elif [[ ${x^} == "X" ]];
        then 
         printf "-..- x"
        elif [[ ${x^} == "Y" ]];
        then 
         printf ".-.. y"
        elif [[ ${x^} == "Z" ]];
        then 
         printf "--.. z"
        
        elif [[ $x == "\n%s\n" ]];
        then 
        printf "bye"
    fi
    done < $1
}

if [[ "$1" =~ ".txt" ]];
    then
    echo "Your text to morse code is Down here: ";
    CONVERT_TO_MORSE "$FILE"

elif [[ "$1" =~ ".morse" ]];
    then
    echo "Your morse to text code is Down here: ";
    CONVERT_TO_TEXT "$FILE"
fi